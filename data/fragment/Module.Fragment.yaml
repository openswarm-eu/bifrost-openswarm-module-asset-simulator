type: DIRECTORY-FRAGMENT
name: OpenSwarmPoC1AssetSimulationModule

structures:

  EV-STATION: 
    domain: 'landscape'
    memberOf: ['buildings', 'electrical']
    placeOn: ['canvas']
    name: 'E-Car Charging Station'
    description: 'E-charging station'
    size: 4
    replace: false
    defaultPairing: []
    requiredPairing: ['POWERGRID-CONNECTOR', 'CHARGING-POLE']
    forbiddenPairing: ['SOLAR-PANEL', 'BATTERY-SYSTEM']
    dynamics: []
    flavors: ['38_SBC_ev-station']
    renderData: 
      file: 'buildings/'
      image: 
        base: 'objects/inactive/buildings/'
        hover: 'objects/active/buildings/'
        active: 'objects/active/buildings/'
      rotationY: 0.75
      scale: 'default'
      hideInPanel: false
      category: 'ELECTRICAL'
      sorting: 301
      nightmode: true
      showPlaceholder: true
      geoObject: true
      widgetPosition: 
        '38_SBC_ev-station': [-0.7, 0.5, 0]
      decorators: 
        'SOLAR-PANEL': 
          link: 'buildings/47_SBC_solar-panel'
          flavors: 
            '38_SBC_ev-station': 
              position: [-0.8, 0.027, 0.9]
              repeatX: 4

  SOLAR-FARM: 
    domain: 'landscape'
    memberOf: ['buildings', 'generators']
    placeOn: ['canvas']
    name: 'Solar Farm'
    description: ''
    size: 4
    replace: false
    defaultPairing: []
    requiredPairing: ['POWERGRID-CONNECTOR', 'SOLAR-PANEL']
    forbiddenPairing: ['CHARGING-POLE', 'BATTERY-SYSTEM']
    dynamics: []
    flavors: ['68_SBC_powergrid']
    renderData: 
      file: 'buildings/'
      image: 
        base: 'objects/inactive/buildings/'
        hover: 'objects/active/buildings/'
        active: 'objects/active/buildings/'
      rotationY: 0.75
      scale: 'default'
      hideInPanel: false
      category: 'ELECTRICAL'
      sorting: 204
      nightmode: true
      geoObject: true
      widgetPosition: 
        '68_SBC_powergrid': [0, 0.5, 0.3]
      showPlaceholder: true
    tags: 
      - 'base' 
      - 'lvgrid'

  BATTERY-STATION: 
    domain: 'landscape'
    memberOf: ['buildings', 'storage']
    placeOn: ['canvas']
    name: 'Battery Station'
    description: ''
    size: 4
    replace: false
    defaultPairing: []
    requiredPairing: ['POWERGRID-CONNECTOR', 'BATTERY-SYSTEM']
    forbiddenPairing: ['CHARGING-POLE', 'SOLAR-PANEL']
    dynamics: []
    flavors: ['41_SBC_commercial-storage-small']
    renderData: 
        file: 'buildings/'
        image: 
            base: 'objects/inactive/buildings/'
            hover: 'objects/active/buildings/'
            active: 'objects/active/buildings/'
        rotationY: 0.75
        scale: 'default'
        hideInPanel: false
        category: 'ELECTRICAL'
        sorting: 302
        nightmode: true
        geoObject: true
        widgetPosition: 
            '41_SBC_commercial-storage-small': [0.5, 0.5, -0.5]
        showPlaceholder: true
    tags: 
      - 'base' 
      - 'lvgrid'

  SOLAR-PANEL: 
    domain: powergrid
    memberOf: 
      - electrical
      - sources
    placeOn: 
      - POWERGRID-CONNECTOR
    name: PV System
    description: Photovoltaic installation
    size: 1
    replace: false
    defaultPairing: []
    requiredPairing: []
    forbiddenPairing: []
    dynamics:
      - PV-SYSTEM-POWER
      - PV-SYSTEM-MAX-POWER
    flavors: 
      - 76_SBC_plugin
    renderData: 
        file: buildings/
        image: 
            base: objects/inactive/buildings/
            hover: objects/active/buildings/
            active: objects/active/buildings/
        rotationY: 0.75
        hideObjectOnCanvas: true
        scale: default
        hideInPanel: false
        nightmode: false
        emissiveOnConnection: true
        category: ELECTRICAL
        sorting: 502

  CHARGING-POLE:
    domain: powergrid
    memberOf:
      - electrical
    placeOn:
      - POWERGRID-CONNECTOR
    name: E-Car Charging Pole
    description: E-car charging pole
    size: 1
    replace: false
    defaultPairing: []
    requiredPairing: []
    forbiddenPairing: []
    dynamics:
      - CHGSTATION-POWER
      - CHGSTATION-MAX-POWER
    flavors:
      - 77_SBC_software
    renderData:
      file: buildings/
      image:
        base: objects/inactive/buildings/
        hover: objects/active/buildings/
        active: objects/active/buildings/
      rotationY: 0.75
      hideObjectOnCanvas: true
      scale: default
      hideInPanel: false
      nightmode: false
      emissiveOnConnection: true
      category: ELECTRICAL
      sorting: 503
    tags:
      - base
      - lvgrid

  BATTERY-SYSTEM: 
    domain: powergrid
    memberOf: 
      - 'electrical'
    placeOn:
      - POWERGRID-CONNECTOR
    name: 'Battery System'
    description: 'Battery storage system'
    size: 4
    replace: false
    defaultPairing: []
    requiredPairing: []
    forbiddenPairing: []
    dynamics:
      - BATTERY-SYSTEM-POWER
      - BATTERY-SYSTEM-MAX-POWER
      - BATTERY-SYSTEM-SOC
      - BATTERY-STORAGE-CAPACITY
    flavors:
      - 72_SBC_battery-storage
    renderData: 
      file: 'buildings/'
      image: 
        base: 'objects/inactive/buildings/'
        hover: 'objects/active/buildings/'
        active: 'objects/active/buildings/'
      rotationY: 0.75
      hideObjectOnCanvas: true
      scale: default
      hideInPanel: false
      nightmode: false
      emissiveOnConnection: true
      category: ELECTRICAL
      sorting: 302
    tags:
      - base
      - lvgrid

  GRID-SENSOR:
    domain: powergrid
    memberOf:
      - electrical
    placeOn: ['POWERGRID-NODE']
    name: Grid Sensor
    description: Measurement for ALGO controller
    size: 1
    replace: false
    defaultPairing: []
    requiredPairing: []
    forbiddenPairing: []
    dynamics: 
      - GRID-SENSOR-NAME
      - GRID-SENSOR-POWERMEASUREMENT
      - GRID-SENSOR-POWERLIMIT
      - GRID-SENSOR-ASSIGNMENT
      - GRID-SENSOR-FLOW-DIRECTION
    flavors:
      - 74_SBC_transceiver
    renderData:
      file: buildings/
      image:
        base: objects/inactive/buildings/
        hover: objects/active/buildings/
        active: objects/active/buildings/
      rotationY: 0.75
      hideObjectOnCanvas: true
      scale: default
      hideInPanel: false
      nightmode: false
      emissiveOnConnection: true
      category: ELECTRICAL
      sorting: 502
    tags:
      - algo

dynamics: 

  CHGSTATION-POWER:
    domain: powergrid
    name: Chargestation Power
    description: Power situation of the charging station
    visible: true
    actionable: false
    alwaysUpdate: false
    defaultValue: 
      - 0
      - 0
      - 0
    pinnable: false
    dataLabels: 
      - 'Power Demand'
      - 'Actual Power'
      - 'Shifted Demand'
    chartType: LINE
    unit: kW
    schema:
      type: array
      minItems: 3
      maxItems: 3
      items:
        type: number
    tags:
      - energyCommunityController

  PV-SYSTEM-POWER:
    domain: powergrid
    name: PV System Power
    description: Power situation of the PV system
    visible: true
    actionable: false
    alwaysUpdate: false
    defaultValue: 
      - 0
      - 0
    pinnable: false
    dataLabels:
      - 'Infeed Potential'
      - 'Actual Infeed'
    chartType: LINE
    unit: kW
    schema:
      type: array
      minItems: 2
      maxItems: 2
      items:
        type: number
    tags:
      - energyCommunityController

  BATTERY-SYSTEM-POWER:
    domain: powergrid
    name: Battery System Power
    description: Power situation of the battery system
    visible: true
    actionable: false
    alwaysUpdate: false
    defaultValue: 
      - 10
      - 0
      - -10
    pinnable: false
    dataLabels:
      - 'Charge Potential'
      - 'Actual Power'
      - 'Discharge Potential'
    chartType: LINE
    unit: kW
    schema:
      type: array
      minItems: 3
      maxItems: 3
      items:
        type: number
    tags:
      - energyCommunityController
  
  BATTERY-SYSTEM-MAX-POWER:
    domain: powergrid
    name: Battery System Power Limit
    description: The currently limit of the power of this battery system
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 
      - 10
      - -10
    pinnable: true
    dataLabels:
      - 'Charge Limit'
      - 'Discharge Limit'
    chartType: LINE
    unit: kW
    schema:
      type: array
      minItems: 2
      maxItems: 2
      items:
        type: number
    tags:
      - energyCommunityController
  
  BATTERY-SYSTEM-SOC:
    domain: powergrid
    name: Battery System State of Charge
    description: The current state of charge of the battery system
    visible: true
    actionable: false
    alwaysUpdate: false
    defaultValue: 50
    pinnable: true
    dataLabels:
      - 'State of Charge'
    chartType: LINE
    unit: '%'
    schema:
      type: number
      minimum: 0
      maximum: 100
    tags:
      - energyCommunityController

  BATTERY-STORAGE-CAPACITY:
    domain: powergrid
    name: Battery System Capacity
    description: Total availabe capacity of the battery system
    visible: true
    actionable: true
    alwaysUpdate: false
    pinnable: true
    dataLabels: []
    chartType: NUMBER
    defaultValue: 10
    unit: "kWh"
    schema:
      type: number
    tags:
      - lvgrid

  CHGSTATION-MAX-POWER:
    domain: powergrid
    name: Chargingstation Power Limit
    description: The currently limit of the power of this chargingstation
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 100
    pinnable: true
    dataLabels:
      - 'Charge Power Limit'
    chartType: LINE
    unit: kW
    schema:
      type: number
    tags:
      - energyCommunityController

  PV-SYSTEM-MAX-POWER:
    domain: powergrid
    name: PV System Infeed Limit
    description: The currently limit of the infeed of this PV system
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 100
    pinnable: true
    dataLabels: 
      - 'Infeed Limit'
    chartType: LINE
    unit: kW
    schema:
      type: number
    tags:
      - energyCommunityController

  GRID-SENSOR-NAME:
    domain: powergrid
    name: Grid Sensor Name
    description: Name of the grid sensor
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 'Inactive'
    pinnable: true
    dataLabels:
      - 'Grid Sensor Name'
    chartType: TEXT
    schema:
      type: string
      enum:
        - S1
        - S2
        - S3
        - S4
        - S5
        - S6
        - S7
        - S8
        - S9
        - Inactive
    tags:
      - energyCommunityController

  GRID-SENSOR-ASSIGNMENT:
    domain: powergrid
    name: Grid Sensor Assignment
    description: The assignment of the grid sensor to a specific grid segment
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 'Unassigned'
    pinnable: true
    dataLabels:
      - 'Grid Sensor Assignment'
    chartType: TEXT
    schema:
      type: string
      enum:
        - S1
        - S2
        - S3
        - S4
        - S5
        - S6
        - S7
        - S8
        - S9
        - Unassigned
    tags:
      - energyCommunityController

  GRID-SENSOR-POWERMEASUREMENT:
    domain: powergrid
    name: Grid Sensor Power Measurement
    description: Power measurement of the grid sensor
    visible: true
    actionable: false
    alwaysUpdate: false
    defaultValue: 0
    pinnable: false
    dataLabels:
      - 'Power Measurement'
    chartType: LINE
    unit: kW
    schema:
      type: number
    tags:
      - energyCommunityController

  GRID-SENSOR-POWERLIMIT:
    domain: powergrid
    name: Grid Sensor Power Limit
    description: The currently limit of the power of this grid sensor
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 100
    pinnable: true
    dataLabels:
      - 'Line Power Limit'
    chartType: LINE
    unit: kW
    schema:
      type: number
    tags:
      - energyCommunityController

  GRID-SENSOR-FLOW-DIRECTION:
    domain: powergrid
    name: Grid Sensor Flow Direction
    description: The direction of the measured power flow by the grid sensor
    visible: true
    actionable: true
    alwaysUpdate: false
    defaultValue: 'UP'
    pinnable: true
    dataLabels:
      - 'Flow Direction'
    chartType: TEXT
    schema:
      type: string
      enum:
        - UP
        - DOWN
    tags:
      - energyCommunityController

mappings:

  GRID-SENSOR-ASSIGNMENT:
    - POWERGRID-CONNECTOR